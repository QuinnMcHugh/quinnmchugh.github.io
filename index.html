<!DOCTYPE html>
<!-- saved from url=(0025)http://jacopretorius.net/ -->
<html class="wf-proximanova-n4-active wf-proximanova-n7-active wf-proximanova-i4-active wf-proximanova-i7-active wf-active"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Quinn McHugh</title>
  <meta name="description" content="A blog for programmers, by a programmer.">

  <meta content="Jaco Pretorius" property="og:site_name">
  
    <meta content="Jaco Pretorius" property="og:title">
    <meta content="website" property="og:type">
    <meta content="http://jacopretorius.net" property="og:url">
  
  
    <meta content="A blog for programmers, by a programmer." property="og:description">
  
  <link href='https://fonts.googleapis.com/css?family=Sanchez' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="./Jaco Pretorius_files/main.css">
  <link rel="canonical" href="http://jacopretorius.net/">
  <link rel="alternate" type="application/rss+xml" title="Jaco Pretorius" href="http://jacopretorius.net/feed.xml">

  <script async="" src="./Jaco Pretorius_files/analytics.js"></script><script type="text/javascript" src="./Jaco Pretorius_files/xmg1tyj.js"></script><style type="text/css"></style>
  <style type="text/css">.tk-proxima-nova{font-family:"proxima-nova",sans-serif;}</style><link rel="stylesheet" href="./Jaco Pretorius_files/l" media="all"><script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>


  <body>
    <div id="layout">

      <div id="header">
  <div class="container">
    <a href="http://jacopretorius.net/" id="logo">
	<span style="color: green; font-size: 150%; font-family: sanchez;" class="visible-large"> <b style="font-size: 120%; color: #cc4422;"> > </b> Quinn McHugh</span>
    </a>
    <nav>
      <ul>
        <li id="about" style="font-family: sanchez;"><a href="/about/">About</a></li>
        <li id="posts" style="font-family: sanchez;"><a href="/posts/">Posts</a></li>
      </ul>
    </nav>
  </div>
</div>


      <div id="main" class="container">
        
<div class="landing-page">

  <div class="post">
    <header>
      <h3><a href="http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html">Working With Global Variables In AngularJS</a></h3>
      <p class="post-meta"><span>Apr 6, 2015</span></p>
    </header>
    <p>Consider the following Angular code:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;script </span><span class="na">data-require=</span><span class="s">"angular.js@1.3.15"</span> <span class="na">data-semver=</span><span class="s">"1.3.15"</span> <span class="na">src=</span><span class="s">"https://code.angularjs.org/1.3.15/angular.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="kd">var</span> <span class="nx">globalVariable</span> <span class="o">=</span> <span class="s2">"one"</span><span class="p">;</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">windowVariable</span> <span class="o">=</span> <span class="s2">"two"</span><span class="p">;</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body</span> <span class="na">ng-app=</span><span class="s">"example"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      Global Variable: <span class="nt">&lt;strong&gt;</span>{{ globalVariable }}<span class="nt">&lt;/strong&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      Window Variable: <span class="nt">&lt;strong&gt;</span>{{ windowVariable }}<span class="nt">&lt;/strong&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span></code></pre></div>

<p>The output might surprise you.</p>

<p><img src="./Jaco Pretorius_files/working_with_global_variables_in_angularjs.png" alt="Output of Example"></p>

<p>Both variables are undefined.  The key here is how Angular interprets the expressions between the curly braces.  You might expect Angular to do a simple <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval">eval</a> on the code, but that is not the case - Angular actually uses JavaScript to parse these JavaScript-<em>like</em> syntax within the context of the current scope.</p>

<p>This means we canâ€™t simply access global variables or variables on window in these expressions.  There might be scenarios where you want to do exactly that - for example, feature flags are often rendered server-side and attached directly to <code>window</code> (or rendered as global variables).</p>

<p>In order to access these inside template expressions you need to assign them to the scope.</p>

<div class="highlight"><pre><code class="language-coffeescript" data-lang="coffeescript"><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span> <span class="s">"ExampleController"</span><span class="p">,</span> <span class="nf">($scope, $window) -&gt;</span>
  <span class="nv">$scope.globalVariable = </span><span class="nx">globalVariable</span>
  <span class="nv">$scope.windowVariable = </span><span class="nx">$window</span><span class="p">.</span><span class="nx">windowVariable</span></code></pre></div>

<p>You can find all the code on <a href="http://plnkr.co/edit/8FSW7yR8eYOdIXnUUbse?p=preview">Plunker</a>.  Happy coding.</p>


    <p class="share">
      <span>Share on:</span>
      <a href="https://twitter.com/intent/tweet?url=http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html&amp;text=Working%20With%20Global%20Variables%20In%20AngularJS&amp;via=JacoPretorius">Twitter</a>,
      <a href="https://facebook.com/sharer.php?u=http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html">Facebook</a>,
      <a href="https://plus.google.com/share?url=http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html">Google+</a>
      or use the <a href="http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html">Permalink</a>
    </p>

    <div class="comments">
      <a href="http://jacopretorius.net/2015/04/working-with-global-variables-in-angularjs.html">Leave a Comment</a>
    </div>
  </div>

</div>

      </div>

    </div>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-9282251-1', 'auto');
  ga('send', 'pageview');
</script>

  


</body></html>
